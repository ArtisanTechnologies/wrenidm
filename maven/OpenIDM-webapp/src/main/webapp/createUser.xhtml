<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition template="resources/templates/admin-template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                xmlns:prefs="http://java.sun.com/jsf/composite/components/preferences"
                xmlns:user="http://java.sun.com/jsf/composite/components/user"
                >

    <ui:define name="title">#{lang.messages['user.type.create.title']}</ui:define>
    <ui:define name="content-title">#{lang.messages['user.type.create.title']}</ui:define>


    <!--<ui:define name="extraHeaders">
        <ice:outputStyle href="/resources/css/menu.css"/>
        <ice:outputStyle href="/resources/css/xp/xp.css" rel="stylesheet" type="text/css"/>
    </ui:define>-->


    <ui:define name="admin-content">
        <f:facet name="header">
            <h:messages errorClass="error" infoClass="info" globalOnly="true" layout="table" />
        </f:facet>
        <ice:form id="admin-content">
            <ice:panelGrid columns="2" id="admin-content" style="background-color: #DDDDDD">
                <ice:outputLabel value="#{msg['user.type.givenName']}"/>
                <ice:panelGroup>
                    <ice:inputText id="givenName"
                                   value="#{userTypeController.user.givenName}"
                                   required="true"
                                   requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="givenName" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.familyName']}"/>
                <ice:panelGroup>
                    <ice:inputText id="familyName"
                                   value="#{userTypeController.user.familyName}"
                                   required="true"
                                   requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="familyName" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.fullName']}"/>
                <ice:panelGroup>
                    <ice:inputText id="fullName"
                                   value="#{userTypeController.user.fullName}"
                                   required="true"
                                   requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="fullName" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.email']}"/>
                <ice:panelGroup>
                    <ice:inputText id="email"
                                   value="#{userTypeController.user.email}"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.locality']}"/>
                <ice:panelGroup>
                    <ice:inputText id="locality"
                                   value="#{userTypeController.user.locality}"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.name']}"/>
                <ice:panelGroup>
                    <ice:inputText id="name"
                                   value="#{userTypeController.user.name}"
                                   required="true"
                                   requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="familyName" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.password1']}"/>
                <ice:panelGroup>
                    <ice:inputSecret id="password1"
                                     value="#{userTypeController.user.password1}"
                                     required="true"
                                     requiredMessage="#{msg['field.required']}">
                        <f:validator validatorId="PasswordValidator" />
                        <f:attribute name="otherComponentId" value="password2" />
                    </ice:inputSecret>
                    <ice:message for="password1" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.password2']}"/>
                <ice:panelGroup>
                    <ice:inputSecret id="password2" immediate="true"
                                     value="#{userTypeController.user.password2}"
                                     required="true"
                                     requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="password2" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.enabled']}"/>
                <ice:panelGroup>
                    <ice:selectBooleanCheckbox id="enabled"
                                               value="#{userTypeController.user.enabled}"
                                               required="true"
                                               requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="enabled" errorClass="error"/>
                </ice:panelGroup>
                <ice:outputLabel value="#{msg['user.type.webAccessEnabled']}"/>
                <ice:panelGroup>
                    <ice:selectBooleanCheckbox id="webAccessEnabled"
                                               value="#{userTypeController.user.webAccessEnabled}"
                                               required="true"
                                               requiredMessage="#{msg['field.required']}"/>
                    <ice:message for="webAccessEnabled" errorClass="error"/>
                </ice:panelGroup>


                <ui:remove>
                    <ice:outputLabel value="#{msg['user.type.prefix']}"/>
                    <ice:panelGroup>
                        <ice:inputText id="prefix"
                                       value="#{userTypeController.user.honorificPrefix}"/>
                    </ice:panelGroup>
                    <ice:outputLabel value="#{msg['user.type.suffix']}"/>
                    <ice:panelGroup>
                        <ice:inputText id="suffix"
                                       value="#{userTypeController.user.honorificSuffix}"/>
                    </ice:panelGroup>
                </ui:remove>
                <f:facet name="footer">
                    <ice:panelGroup>
                        <ice:commandButton type="submit" id="createUser" action="#{userTypeController.createUser}" value="#{msg['user.type.create.button']}" />
                        <ice:commandButton type="submit" id="cancelCreateUser" action="#{userTypeController.fillTableList}" value="#{msg['user.type.cancel.button']}" immediate="true" />

                    </ice:panelGroup>
                </f:facet>
            </ice:panelGrid>
        </ice:form>
        <ice:form>
        </ice:form>
    </ui:define>
</ui:composition>