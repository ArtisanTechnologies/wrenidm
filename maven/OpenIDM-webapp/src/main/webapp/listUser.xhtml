<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition template="resources/templates/admin-template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                xmlns:prefs="http://java.sun.com/jsf/composite/components/preferences"
                xmlns:idm="http://openidm.forgerock.com/xml/ns/custom-taglib/"
                >

    <ui:define name="title">#{lang.messages['user.type.list.title']}</ui:define>
    <ui:define name="content-title">#{lang.messages['user.type.list.title']}</ui:define>

    <ui:define name="admin-content">
        <ice:panelGroup>
            <ice:form id="admin-content">
                <ice:panelGrid column="1">

                    <ice:panelGroup styleClass="buttonsPosisiton">
                        <idm:button action="#{userTypeController.createAction}" id="addButton"
                                    buttonType="positive" value="Add user" img="/resources/images/user_add.png" />

                        <ui:remove>
                            <idm:button action="deleteUser" buttonType="negative" value="Delete user"
                                        id="deleteButton" img="/resources/images/user_delete.png" />
                        </ui:remove>

                        <ice:panelGrid columns="3" styleClass="searchOidPosition">

                            <ice:outputText value="#{msg['user.type.userID']}"/>
                            <ice:inputText value="#{userTypeController.searchOid}"
                                           immediate="true"/>

                            <idm:button actionListener="#{userTypeController.searchUser}"
                                        value="#{msg['user.type.search.button']}" id="searchButton"
                                        img="/resources/images/magnifier.png" />
                        </ice:panelGrid>
                    </ice:panelGroup>


                    <ice:panelGroup>
                        <ice:outputText value="Users per page: "/>
                        <ice:inputText value="#{userTypeController.rowsCount}"/>
                        <ice:commandButton value="OK" action="#{userTypeController.list}"/>
                        <ice:panelGrid columns="4" styleClass="pagingPosition">
                            <idm:button img="resources/css/forgerock/css-images/arrow-first.gif"
                                        value="First"
                                        action="#{userTypeController.listFirst}"/>
                            <idm:button img="resources/css/forgerock/css-images/arrow-previous.gif"
                                        value="Previous"
                                        action="#{userTypeController.listPrevious}"/>
                            <idm:button img="resources/css/forgerock/css-images/arrow-next.gif"
                                        value="Next"
                                        action="#{userTypeController.listNext}"/>
                            <idm:button img="resources/css/forgerock/css-images/arrow-last.gif"
                                        value="Last"
                                        action="#{userTypeController.listLast}"/>

                        </ice:panelGrid>
                    </ice:panelGroup>
                    <ice:dataTable id="userTable"
                                   rows="#{userTypeController.rowsCount}"
                                   value="#{userTypeController.userData}"
                                   var="user"
                                   sortColumn="#{userTypeController.sortColumnName}"
                                   sortAscending="#{userTypeController.ascending}"
                                   columnClasses="iceDatTblCol1"
                                   rowClasses="iceDatTblRow1 iceDatTblRow2"
                                   columnWidths="20px, 230px, 100px, 100px, 170px, 100px, 100px, 150px"
                                   resizable="true"
                                   >
                        <ice:column>
                            <f:facet name="header">
                                
                            </f:facet>

                            <ice:selectBooleanCheckbox id="selectCheckbox"                                                       
                                                       />

                            <ice:rowSelector id="selected"
                                             clickAction="detailUser"
                                             selectionListener="#{userTypeController.userSelectionListener}"
                                             styleClass="selectedRow"  />
                        </ice:column>
                        <ice:column>

                            <f:facet name="header">
                                <ice:commandSortHeader columnName="oid"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}">

                                    <ice:outputText id="userOid" value="#{msg['user.type.oid']}"/>
                                </ice:commandSortHeader>
                            </f:facet>


                            <ice:outputText id="oid"
                                            value="#{user.oid}" />
                        </ice:column>

                        <ice:column>
                            <f:facet name="header">
                                <ice:commandSortHeader columnName="givenName"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}">

                                    <ice:outputText id="userGivenName" value="#{msg['user.type.givenName']}"/>
                                </ice:commandSortHeader>
                            </f:facet>


                            <ice:outputText id="givenName"
                                            value="#{user.givenName}"
                                            />
                        </ice:column>

                        <ice:column>
                            <f:facet name="header">
                                <ice:commandSortHeader columnName="familyName"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}">
                                    <ice:outputText id="userFamilyName" value="#{msg['user.type.familyName']}"/>
                                </ice:commandSortHeader>
                            </f:facet>


                            <ice:outputText id="familyName"
                                            value="#{user.familyName}"
                                            />
                        </ice:column>


                        <ice:column>

                            <f:facet name="header">
                                <ice:commandSortHeader columnName="fullName"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}"
                                                       >

                                    <ice:outputText id="userFullName" value="#{msg['user.type.fullName']}"/>
                                </ice:commandSortHeader>
                            </f:facet>


                            <ice:outputText  id="fullName"
                                             value="#{user.fullName}"
                                             />
                        </ice:column>


                        <ice:column>
                            <f:facet name="header">
                                <ice:commandSortHeader columnName="name"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}">

                                    <ice:outputText id="userName" value="#{msg['user.type.name']}"/>
                                </ice:commandSortHeader>
                            </f:facet>


                            <ice:outputText id="name" value="#{user.name}" />
                        </ice:column>
                        <ui:remove>
                            <ice:column>
                                <f:facet name="header">
                                    <ice:commandSortHeader columnName="telNumber" arrow="true"
                                                           actionListener="#{userTypeController.sortItem}">
                                        <ice:outputText id="userTelNumber" value="#{msg['user.type.telNumber']}"/>
                                    </ice:commandSortHeader>
                                </f:facet>
                                <ice:outputText id="telNumber" />
                            </ice:column>
                        </ui:remove>
                        <ice:column>
                            <f:facet name="header">
                                <ice:commandSortHeader columnName="email"
                                                       arrow="true"
                                                       actionListener="#{userTypeController.sortItem}">
                                    <ice:outputText id="userEmail" value="#{msg['user.type.email']}"/>
                                </ice:commandSortHeader>
                            </f:facet>
                            <ice:outputText id="email" value="#{user.email}" />
                        </ice:column>
                    </ice:dataTable>
                    <ui:remove>
                        <!--<ice:panelGroup>
                            <center>
                                <ice:dataPaginator for="userTable"
                                                   paginator="true"
                                                   paginatorMaxPages="6"

                                                   pageIndexVar="#{userTypeController.pageIndex}"
                                                   >
                                    <f:facet name="first">
                                        <ice:graphicImage url="resources/css/forgerock/css-images/arrow-first.gif"
                                                          style="border: 0px;"/>
                                    </f:facet>
                                    <f:facet name="last">
                                        <ice:graphicImage url="resources/css/forgerock/css-images/arrow-last.gif"
                                                          style="border: 0px;"/>
                                    </f:facet>
                                    <f:facet name="previous">
                                        <ice:graphicImage url="resources/css/forgerock/css-images/arrow-previous.gif"
                                                          style="border: 0px;"/>
                                    </f:facet>
                                    <f:facet name="next">
                                        <ice:graphicImage url="resources/css/forgerock/css-images/arrow-next.gif"
                                                          style="border: 0px;"/>
                                    </f:facet>

                                </ice:dataPaginator>
                            </center>
                        </ice:panelGroup>-->
                    </ui:remove>
                </ice:panelGrid>
            </ice:form>
        </ice:panelGroup>
    </ui:define>
</ui:composition>